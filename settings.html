<!DOCTYPE html>
<html lang="th">
<head>
<meta charset="UTF-8">
<title>‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤ | SpotMix</title>
<link rel="stylesheet" href="style.css">
<script src="js/protect.js"></script>
</head>
<body>
  <aside class="sidebar">
    <ul>
      <li><a href="index.html">üè†</a></li>
      <li><a href="friends.html">üë•</a></li>
      <li><a href="chat.html">üí¨</a></li>
      <li><a href="settings.html">‚öôÔ∏è</a></li>
    </ul>
  </aside>
  <main class="settings" style="margin-left: 120px; padding: 30px;">
    <h2>‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤</h2>
    <div style="margin-bottom: 20px;">
      <label>‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏ò‡∏µ‡∏°: </label>
      <select id="themeSelect">
        <option value="dark">‡πÇ‡∏´‡∏°‡∏î‡∏°‡∏∑‡∏î (Dark)</option>
        <option value="light">‡πÇ‡∏´‡∏°‡∏î‡∏™‡∏ß‡πà‡∏≤‡∏á (Light)</option>
      </select>
      <button id="saveSettings" style="margin-left:10px;">‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å</button>
    </div>
    <hr>
    <button id="logoutBtn" style="background: #ff4d4d; color: white; padding: 10px 20px; border: none; border-radius: 5px;">‡∏≠‡∏≠‡∏Å‡∏à‡∏≤‡∏Å‡∏£‡∏∞‡∏ö‡∏ö</button>
  </main>
  <script>
    const user = localStorage.getItem("currentUser");
    const data = JSON.parse(localStorage.getItem(`user_${user}`));
    
    // ‡πÇ‡∏´‡∏•‡∏î‡∏Ñ‡πà‡∏≤‡∏ò‡∏µ‡∏°‡∏õ‡∏±‡∏à‡∏à‡∏∏‡∏ö‡∏±‡∏ô
    document.getElementById("themeSelect").value = data.settings.theme;

    document.getElementById("saveSettings").onclick = () => {
      data.settings.theme = document.getElementById("themeSelect").value;
      localStorage.setItem(`user_${user}`, JSON.stringify(data));
      alert("‡∏ö‡∏±‡∏ô‡∏ó‡∏∂‡∏Å‡∏Å‡∏≤‡∏£‡∏ï‡∏±‡πâ‡∏á‡∏Ñ‡πà‡∏≤‡πÅ‡∏•‡πâ‡∏ß (‡∏ò‡∏µ‡∏°‡∏à‡∏∞‡πÄ‡∏õ‡∏•‡∏µ‡πà‡∏¢‡∏ô‡∏´‡∏•‡∏±‡∏á Refresh)");
      location.reload();
    };

    document.getElementById("logoutBtn").onclick = () => {
      localStorage.removeItem("currentUser");
      window.location.href = "login.html";
    };

    // ‡πÉ‡∏ä‡πâ‡∏ò‡∏µ‡∏°
    if(data.settings.theme === "light") document.body.classList.add("light");
  </script>
</body>
</html>